<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Designing and Building my Monitoring Techniques Database | A Comparison of Carnivore Monitoring Techniques</title>
  <meta name="description" content="<p>This book was created as a part of my final project for Simona Picardi’s
Reproducible Data Science Class. It will outline the steps of my final project.</p>" />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Designing and Building my Monitoring Techniques Database | A Comparison of Carnivore Monitoring Techniques" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>This book was created as a part of my final project for Simona Picardi’s
Reproducible Data Science Class. It will outline the steps of my final project.</p>" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Designing and Building my Monitoring Techniques Database | A Comparison of Carnivore Monitoring Techniques" />
  
  <meta name="twitter:description" content="<p>This book was created as a part of my final project for Simona Picardi’s
Reproducible Data Science Class. It will outline the steps of my final project.</p>" />
  

<meta name="author" content="Lindsey Engelbert" />


<meta name="date" content="2023-03-19" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="cross.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Project Description</a></li>
<li class="chapter" data-level="2" data-path="designing-and-building-my-monitoring-techniques-database.html"><a href="designing-and-building-my-monitoring-techniques-database.html"><i class="fa fa-check"></i><b>2</b> Designing and Building my Monitoring Techniques Database</a>
<ul>
<li class="chapter" data-level="2.1" data-path="designing-and-building-my-monitoring-techniques-database.html"><a href="designing-and-building-my-monitoring-techniques-database.html#database-structure"><i class="fa fa-check"></i><b>2.1</b> Database structure</a></li>
<li class="chapter" data-level="2.2" data-path="designing-and-building-my-monitoring-techniques-database.html"><a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-database"><i class="fa fa-check"></i><b>2.2</b> Creating the database</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="designing-and-building-my-monitoring-techniques-database.html"><a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-carnivores-table"><i class="fa fa-check"></i><b>2.2.1</b> Creating the carnivores table</a></li>
<li class="chapter" data-level="2.2.2" data-path="designing-and-building-my-monitoring-techniques-database.html"><a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-collars-table"><i class="fa fa-check"></i><b>2.2.2</b> Creating the collars table</a></li>
<li class="chapter" data-level="2.2.3" data-path="designing-and-building-my-monitoring-techniques-database.html"><a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-deployments-table"><i class="fa fa-check"></i><b>2.2.3</b> Creating the deployments table</a></li>
<li class="chapter" data-level="2.2.4" data-path="designing-and-building-my-monitoring-techniques-database.html"><a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-raw-gps-data-table"><i class="fa fa-check"></i><b>2.2.4</b> Creating the raw GPS data table</a></li>
<li class="chapter" data-level="2.2.5" data-path="designing-and-building-my-monitoring-techniques-database.html"><a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-capture-sites-table"><i class="fa fa-check"></i><b>2.2.5</b> Creating the capture sites table</a></li>
<li class="chapter" data-level="2.2.6" data-path="designing-and-building-my-monitoring-techniques-database.html"><a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-captures-table"><i class="fa fa-check"></i><b>2.2.6</b> Creating the captures table</a></li>
<li class="chapter" data-level="2.2.7" data-path="designing-and-building-my-monitoring-techniques-database.html"><a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-sampling-cells-table"><i class="fa fa-check"></i><b>2.2.7</b> Creating the sampling cells table</a></li>
<li class="chapter" data-level="2.2.8" data-path="designing-and-building-my-monitoring-techniques-database.html"><a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-sampling-periods-table"><i class="fa fa-check"></i><b>2.2.8</b> Creating the sampling periods table</a></li>
<li class="chapter" data-level="2.2.9" data-path="designing-and-building-my-monitoring-techniques-database.html"><a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-cameras-table"><i class="fa fa-check"></i><b>2.2.9</b> Creating the cameras table</a></li>
<li class="chapter" data-level="2.2.10" data-path="designing-and-building-my-monitoring-techniques-database.html"><a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-photos-table"><i class="fa fa-check"></i><b>2.2.10</b> Creating the photos table</a></li>
<li class="chapter" data-level="2.2.11" data-path="designing-and-building-my-monitoring-techniques-database.html"><a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-transects-table"><i class="fa fa-check"></i><b>2.2.11</b> Creating the transects table</a></li>
<li class="chapter" data-level="2.2.12" data-path="designing-and-building-my-monitoring-techniques-database.html"><a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-scat-samples-table"><i class="fa fa-check"></i><b>2.2.12</b> Creating the scat samples table</a></li>
<li class="chapter" data-level="2.2.13" data-path="designing-and-building-my-monitoring-techniques-database.html"><a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-hair-snares-table"><i class="fa fa-check"></i><b>2.2.13</b> Creating the hair snares table</a></li>
<li class="chapter" data-level="2.2.14" data-path="designing-and-building-my-monitoring-techniques-database.html"><a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-hair-samples-table"><i class="fa fa-check"></i><b>2.2.14</b> Creating the hair samples table</a></li>
<li class="chapter" data-level="2.2.15" data-path="designing-and-building-my-monitoring-techniques-database.html"><a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-genetics-table"><i class="fa fa-check"></i><b>2.2.15</b> Creating the genetics table</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="cross.html"><a href="cross.html"><i class="fa fa-check"></i><b>3</b> Cross-references</a>
<ul>
<li class="chapter" data-level="3.1" data-path="cross.html"><a href="cross.html#chapters-and-sub-chapters"><i class="fa fa-check"></i><b>3.1</b> Chapters and sub-chapters</a></li>
<li class="chapter" data-level="3.2" data-path="cross.html"><a href="cross.html#captioned-figures-and-tables"><i class="fa fa-check"></i><b>3.2</b> Captioned figures and tables</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A Comparison of Carnivore Monitoring Techniques</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="designing-and-building-my-monitoring-techniques-database" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">Chapter 2</span> Designing and Building my Monitoring Techniques Database<a href="designing-and-building-my-monitoring-techniques-database.html#designing-and-building-my-monitoring-techniques-database" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="database-structure" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Database structure<a href="designing-and-building-my-monitoring-techniques-database.html#database-structure" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:diagram"></span>
<img src="DatabaseDesign.png" alt="Diagram illustrating the stucture of the database" width="90%" />
<p class="caption">
Figure 2.1: Diagram illustrating the stucture of the database
</p>
</div>
</div>
<div id="creating-the-database" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Creating the database<a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-database" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This is the code I used to create the database. I started by loading the <code>DBI</code>
and <code>RSQLite</code> packages:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="designing-and-building-my-monitoring-techniques-database.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DBI)</span>
<span id="cb1-2"><a href="designing-and-building-my-monitoring-techniques-database.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RSQLite)</span></code></pre></div>
<p>Then, I both created and established a connection to a SQLite database using a
single line of code.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="designing-and-building-my-monitoring-techniques-database.html#cb2-1" aria-hidden="true" tabindex="-1"></a>montech_db <span class="ot">&lt;-</span> <span class="fu">dbConnect</span>(RSQLite<span class="sc">::</span><span class="fu">SQLite</span>(),</span>
<span id="cb2-2"><a href="designing-and-building-my-monitoring-techniques-database.html#cb2-2" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;montech.db&quot;</span>)</span></code></pre></div>
<div id="creating-the-carnivores-table" class="section level3 hasAnchor" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> Creating the carnivores table<a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-carnivores-table" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This table includes all the information about individuals that are part of my
study. The table includes columns for carnivore ID, ear tag, sex, birth year,
age class, and species. The <code>carnivore_id</code> column contains a unique identifier
and, as such, it is the primary key of this table.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="designing-and-building-my-monitoring-techniques-database.html#cb3-1" aria-hidden="true" tabindex="-1"></a>carnivores <span class="ot">&lt;-</span> <span class="fu">dbExecute</span>(montech_db, <span class="st">&quot;CREATE TABLE carnivores (</span></span>
<span id="cb3-2"><a href="designing-and-building-my-monitoring-techniques-database.html#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="st">                        carnivore_id varchar(9) NOT NULL,</span></span>
<span id="cb3-3"><a href="designing-and-building-my-monitoring-techniques-database.html#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="st">                        ear_tag integer(4),</span></span>
<span id="cb3-4"><a href="designing-and-building-my-monitoring-techniques-database.html#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="st">                        sex char(1) CHECK (sex IN (&#39;M&#39;, &#39;F&#39;)),</span></span>
<span id="cb3-5"><a href="designing-and-building-my-monitoring-techniques-database.html#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="st">                        birth_year integer(4),</span></span>
<span id="cb3-6"><a href="designing-and-building-my-monitoring-techniques-database.html#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="st">                        age_class varchar(8) CHECK (age_class IN (&#39;juvenile&#39;, &#39;subadult&#39;, &#39;adult&#39;)),</span></span>
<span id="cb3-7"><a href="designing-and-building-my-monitoring-techniques-database.html#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="st">                        species varchar(9) CHECK (species IN (&#39;cougar&#39;, &#39;blackbear&#39;, &#39;bobcat&#39;)),</span></span>
<span id="cb3-8"><a href="designing-and-building-my-monitoring-techniques-database.html#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="st">                        PRIMARY KEY (carnivore_id)</span></span>
<span id="cb3-9"><a href="designing-and-building-my-monitoring-techniques-database.html#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="st">                        );&quot;</span>)</span></code></pre></div>
</div>
<div id="creating-the-collars-table" class="section level3 hasAnchor" number="2.2.2">
<h3><span class="header-section-number">2.2.2</span> Creating the collars table<a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-collars-table" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This table includes all the details for each GPS collars deployed on black
bears, bobcats, and mountain lions in my study area. The table includes columns
for collar id, collar frequency, collar brand, collar model, and collar status.
The <code>collar_id</code> column contains a unique identifier and is therefore the primary
key for this table.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="designing-and-building-my-monitoring-techniques-database.html#cb4-1" aria-hidden="true" tabindex="-1"></a>collars <span class="ot">&lt;-</span> <span class="fu">dbExecute</span>(montech_db, <span class="st">&quot;CREATE TABLE collars (</span></span>
<span id="cb4-2"><a href="designing-and-building-my-monitoring-techniques-database.html#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="st">                    collar_id integer(6) NOT NULL,</span></span>
<span id="cb4-3"><a href="designing-and-building-my-monitoring-techniques-database.html#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="st">                    frequency real (6),</span></span>
<span id="cb4-4"><a href="designing-and-building-my-monitoring-techniques-database.html#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="st">                    brand char(3) CHECK (brand IN (&#39;ATS&#39;)),</span></span>
<span id="cb4-5"><a href="designing-and-building-my-monitoring-techniques-database.html#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="st">                    model varchar (10),</span></span>
<span id="cb4-6"><a href="designing-and-building-my-monitoring-techniques-database.html#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="st">                    status char(11) CHECK (status IN (&#39;deployed&#39;, &#39;office&#39;)),</span></span>
<span id="cb4-7"><a href="designing-and-building-my-monitoring-techniques-database.html#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="st">                    PRIMARY KEY (collar_id)</span></span>
<span id="cb4-8"><a href="designing-and-building-my-monitoring-techniques-database.html#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="st">                    );&quot;</span>)</span></code></pre></div>
</div>
<div id="creating-the-deployments-table" class="section level3 hasAnchor" number="2.2.3">
<h3><span class="header-section-number">2.2.3</span> Creating the deployments table<a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-deployments-table" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This table includes all the information related to GPS collar deployments in my
study area. The table includes columns for collar id, carnivore id, date
deployed, and the date the collar stopped working or was retrieved. As there was
no unique identifier for this table, I created an auto incremented <code>deployment_id</code>
that could act as the primary key for this table. The table is related to the
collars table through <code>collar_id</code> column and the carnivore table through the
<code>carnivore_id</code> column.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="designing-and-building-my-monitoring-techniques-database.html#cb5-1" aria-hidden="true" tabindex="-1"></a>deployments <span class="ot">&lt;-</span> <span class="fu">dbExecute</span>(montech_db, <span class="st">&quot;CREATE TABLE deployments (</span></span>
<span id="cb5-2"><a href="designing-and-building-my-monitoring-techniques-database.html#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="st">                        deployment_id integer PRIMARY KEY AUTOINCREMENT,</span></span>
<span id="cb5-3"><a href="designing-and-building-my-monitoring-techniques-database.html#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="st">                        collar_id integer(5),</span></span>
<span id="cb5-4"><a href="designing-and-building-my-monitoring-techniques-database.html#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="st">                        carnivore_id varchar(9),</span></span>
<span id="cb5-5"><a href="designing-and-building-my-monitoring-techniques-database.html#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="st">                        start_deployment text,</span></span>
<span id="cb5-6"><a href="designing-and-building-my-monitoring-techniques-database.html#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="st">                        end_deployment text,</span></span>
<span id="cb5-7"><a href="designing-and-building-my-monitoring-techniques-database.html#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="st">                        FOREIGN KEY(collar_id) REFERENCES collars(collar_id)</span></span>
<span id="cb5-8"><a href="designing-and-building-my-monitoring-techniques-database.html#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="st">                        FOREIGN KEY(carnivore_id) REFERENCES carnivores(carnivore_id)</span></span>
<span id="cb5-9"><a href="designing-and-building-my-monitoring-techniques-database.html#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="st">                        );&quot;</span>)</span></code></pre></div>
</div>
<div id="creating-the-raw-gps-data-table" class="section level3 hasAnchor" number="2.2.4">
<h3><span class="header-section-number">2.2.4</span> Creating the raw GPS data table<a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-raw-gps-data-table" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This table includes all the raw GPS data for collared animals in my study. The
table includes columns for fix id, collar id, fix timestamp, and coordinates.
As there was no unique identifier for this table, I created an auto incremented
<code>fix_id</code> that could act as the primary key for this table. The table is related
to the collars table through <code>collar_id</code> column.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="designing-and-building-my-monitoring-techniques-database.html#cb6-1" aria-hidden="true" tabindex="-1"></a>gps_data <span class="ot">&lt;-</span> <span class="fu">dbExecute</span>(montech_db, <span class="st">&quot;CREATE TABLE gps_data (</span></span>
<span id="cb6-2"><a href="designing-and-building-my-monitoring-techniques-database.html#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="st">                    fix_id integer PRIMARY KEY AUTOINCREMENT,</span></span>
<span id="cb6-3"><a href="designing-and-building-my-monitoring-techniques-database.html#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="st">                    collar_id integer(5),</span></span>
<span id="cb6-4"><a href="designing-and-building-my-monitoring-techniques-database.html#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="st">                    timestamp text,</span></span>
<span id="cb6-5"><a href="designing-and-building-my-monitoring-techniques-database.html#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="st">                    utm_x double,</span></span>
<span id="cb6-6"><a href="designing-and-building-my-monitoring-techniques-database.html#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="st">                    utm_y double,</span></span>
<span id="cb6-7"><a href="designing-and-building-my-monitoring-techniques-database.html#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="st">                    FOREIGN KEY(collar_id) REFERENCES collars(collar_id)</span></span>
<span id="cb6-8"><a href="designing-and-building-my-monitoring-techniques-database.html#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="st">                    );&quot;</span>)</span></code></pre></div>
</div>
<div id="creating-the-capture-sites-table" class="section level3 hasAnchor" number="2.2.5">
<h3><span class="header-section-number">2.2.5</span> Creating the capture sites table<a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-capture-sites-table" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This table includes all capture locations of animals collared for my study. The
table includes columns for the capture unit, subunit, and area.
As there was no unique identifier for this table, I created an auto incremented
<code>capture_location</code> that could act as the primary key for this table.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="designing-and-building-my-monitoring-techniques-database.html#cb7-1" aria-hidden="true" tabindex="-1"></a>capture_sites <span class="ot">&lt;-</span> <span class="fu">dbExecute</span>(montech_db, <span class="st">&quot;CREATE TABLE capture_sites (</span></span>
<span id="cb7-2"><a href="designing-and-building-my-monitoring-techniques-database.html#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="st">                          capture_location integer PRIMARY KEY AUTOINCREMENT,</span></span>
<span id="cb7-3"><a href="designing-and-building-my-monitoring-techniques-database.html#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="st">                          capture_area varchar PRIMARY KEY,</span></span>
<span id="cb7-4"><a href="designing-and-building-my-monitoring-techniques-database.html#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="st">                          capture_subunit char CHECK (capture_subunit IN (&#39;Nebo&#39;, &#39;Manti&#39;)),</span></span>
<span id="cb7-5"><a href="designing-and-building-my-monitoring-techniques-database.html#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="st">                          capture_unit char(16) CHECK (capture_unit IN (&#39;CentralMountians&#39;))</span></span>
<span id="cb7-6"><a href="designing-and-building-my-monitoring-techniques-database.html#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="st">                          );&quot;</span>)</span></code></pre></div>
</div>
<div id="creating-the-captures-table" class="section level3 hasAnchor" number="2.2.6">
<h3><span class="header-section-number">2.2.6</span> Creating the captures table<a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-captures-table" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This table includes relevant information on carnivore captures for my study. The
table includes columns for the capture id, carnivore id, capture date, capture
time, capture area, coordinates for the capture location, capture method, and
the tissue sample id. The <code>capture_id</code> column contains a unique identifier and
is therefore the primary key for this table. The table is related to the carnivores
table through <code>carnivore_id</code> column and the capture sites table through the
<code>capture_area</code> column.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="designing-and-building-my-monitoring-techniques-database.html#cb8-1" aria-hidden="true" tabindex="-1"></a>captures <span class="ot">&lt;-</span> <span class="fu">dbExecute</span>(montech_db, <span class="st">&quot;CREATE TABLE captures (</span></span>
<span id="cb8-2"><a href="designing-and-building-my-monitoring-techniques-database.html#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="st">                      capture_id varchar PRIMARY KEY,</span></span>
<span id="cb8-3"><a href="designing-and-building-my-monitoring-techniques-database.html#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="st">                      carnivore_id varchar(9),</span></span>
<span id="cb8-4"><a href="designing-and-building-my-monitoring-techniques-database.html#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="st">                      date text,</span></span>
<span id="cb8-5"><a href="designing-and-building-my-monitoring-techniques-database.html#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="st">                      time text,</span></span>
<span id="cb8-6"><a href="designing-and-building-my-monitoring-techniques-database.html#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="st">                      capture_area varchar,</span></span>
<span id="cb8-7"><a href="designing-and-building-my-monitoring-techniques-database.html#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="st">                      utm_x float,</span></span>
<span id="cb8-8"><a href="designing-and-building-my-monitoring-techniques-database.html#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="st">                      utm_y float,</span></span>
<span id="cb8-9"><a href="designing-and-building-my-monitoring-techniques-database.html#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="st">                      capture_method varchar CHECK (capture_method IN (&#39;hounds&#39;, &#39;boxtrap&#39;, &#39;leghold&#39;)),</span></span>
<span id="cb8-10"><a href="designing-and-building-my-monitoring-techniques-database.html#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="st">                      tissue_sample_id varchar,</span></span>
<span id="cb8-11"><a href="designing-and-building-my-monitoring-techniques-database.html#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="st">                      FOREIGN KEY (carnivore_id) REFERENCES carnivores(carnivore_id)</span></span>
<span id="cb8-12"><a href="designing-and-building-my-monitoring-techniques-database.html#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="st">                      FOREIGN KEY (capture_area) REFERENCES capture_sites(capture_area)</span></span>
<span id="cb8-13"><a href="designing-and-building-my-monitoring-techniques-database.html#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="st">                      );&quot;</span>)</span></code></pre></div>
</div>
<div id="creating-the-sampling-cells-table" class="section level3 hasAnchor" number="2.2.7">
<h3><span class="header-section-number">2.2.7</span> Creating the sampling cells table<a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-sampling-cells-table" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This table includes information on the sampling design of my study. Each
sampling cell will contain at least one hair snare, a paired camera station, and
scat transects. The table includes columns for the cell id, grid id, start and
end dates for the cell’s sampling period, and coordinates for the cell center.
The <code>cell_id</code> column contains a unique identifier and is therefore the primary
key for this table.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="designing-and-building-my-monitoring-techniques-database.html#cb9-1" aria-hidden="true" tabindex="-1"></a>sampling_cells <span class="ot">&lt;-</span> <span class="fu">dbExecute</span>(montech_db, <span class="st">&quot;CREATE TABLE sampling_cells (</span></span>
<span id="cb9-2"><a href="designing-and-building-my-monitoring-techniques-database.html#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="st">                           cell_id varchar NOT NULL,</span></span>
<span id="cb9-3"><a href="designing-and-building-my-monitoring-techniques-database.html#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="st">                           grid_id integer(2),</span></span>
<span id="cb9-4"><a href="designing-and-building-my-monitoring-techniques-database.html#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="st">                           start_date text,</span></span>
<span id="cb9-5"><a href="designing-and-building-my-monitoring-techniques-database.html#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="st">                           end_date text,</span></span>
<span id="cb9-6"><a href="designing-and-building-my-monitoring-techniques-database.html#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="st">                           utm_x float,</span></span>
<span id="cb9-7"><a href="designing-and-building-my-monitoring-techniques-database.html#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="st">                           utm_y float,</span></span>
<span id="cb9-8"><a href="designing-and-building-my-monitoring-techniques-database.html#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="st">                           PRIMARY KEY (cell_id)</span></span>
<span id="cb9-9"><a href="designing-and-building-my-monitoring-techniques-database.html#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="st">                            );&quot;</span>)</span></code></pre></div>
</div>
<div id="creating-the-sampling-periods-table" class="section level3 hasAnchor" number="2.2.8">
<h3><span class="header-section-number">2.2.8</span> Creating the sampling periods table<a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-sampling-periods-table" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This table provides the dates for each sampling period. The <code>sampling_periods</code>
column contains a unique identifier and is therefore the primary key for this
table.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="designing-and-building-my-monitoring-techniques-database.html#cb10-1" aria-hidden="true" tabindex="-1"></a>sampling_periods <span class="ot">&lt;-</span> <span class="fu">dbExecute</span>(montech_db, <span class="st">&quot;CREATE TABLE sampling_periods (</span></span>
<span id="cb10-2"><a href="designing-and-building-my-monitoring-techniques-database.html#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="st">                              sampling_period integer(2) PRIMARY KEY,</span></span>
<span id="cb10-3"><a href="designing-and-building-my-monitoring-techniques-database.html#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="st">                              start_date text,</span></span>
<span id="cb10-4"><a href="designing-and-building-my-monitoring-techniques-database.html#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="st">                              end_date text</span></span>
<span id="cb10-5"><a href="designing-and-building-my-monitoring-techniques-database.html#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="st">                              );&quot;</span></span></code></pre></div>
</div>
<div id="creating-the-cameras-table" class="section level3 hasAnchor" number="2.2.9">
<h3><span class="header-section-number">2.2.9</span> Creating the cameras table<a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-cameras-table" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This table includes information on cameras deployed for my study. The table
includes columns for the camera id, cell id, camera coordinates, and camera
location. The <code>camera_id</code> column contains a unique identifier and is therefore
the primary key for this table. The table is related to the sampling cells
table through <code>cell_id</code> column.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="designing-and-building-my-monitoring-techniques-database.html#cb11-1" aria-hidden="true" tabindex="-1"></a>cameras <span class="ot">&lt;-</span> <span class="fu">dbExecute</span>(montech_db, <span class="st">&quot;CREATE TABLE cameras (</span></span>
<span id="cb11-2"><a href="designing-and-building-my-monitoring-techniques-database.html#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="st">                    camera_id varchar NOT NULL,</span></span>
<span id="cb11-3"><a href="designing-and-building-my-monitoring-techniques-database.html#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="st">                    cell_id varchar,</span></span>
<span id="cb11-4"><a href="designing-and-building-my-monitoring-techniques-database.html#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="st">                    utm_x float,</span></span>
<span id="cb11-5"><a href="designing-and-building-my-monitoring-techniques-database.html#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="st">                    utm_y float,</span></span>
<span id="cb11-6"><a href="designing-and-building-my-monitoring-techniques-database.html#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="st">                    location varchar CHECK (location IN (&#39;dirt_road&#39;, &#39;hiking_trail&#39;, &#39;game_trail&#39;, &#39;wash&#39;, &#39;off_trail&#39;, &#39;other&#39;)),</span></span>
<span id="cb11-7"><a href="designing-and-building-my-monitoring-techniques-database.html#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="st">                    PRIMARY KEY (camera_id),</span></span>
<span id="cb11-8"><a href="designing-and-building-my-monitoring-techniques-database.html#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="st">                    FOREIGN KEY (cell_id) REFERENCES sampling_cells(cell_id)</span></span>
<span id="cb11-9"><a href="designing-and-building-my-monitoring-techniques-database.html#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="st">                    );&quot;</span>)</span></code></pre></div>
</div>
<div id="creating-the-photos-table" class="section level3 hasAnchor" number="2.2.10">
<h3><span class="header-section-number">2.2.10</span> Creating the photos table<a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-photos-table" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This table includes information on carnivore photos taken by camera traps. The
table includes columns for the photo id, camera id, sampling period, timestamp,
species, carnivore id if applicable, and individual id. The <code>photo_id</code> column
contains a unique identifier and is therefore the primary key for this table.
The table is related to the carnivores table through <code>carnivore_id</code> column and
the capture sites table through the <code>capture_area</code> column.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="designing-and-building-my-monitoring-techniques-database.html#cb12-1" aria-hidden="true" tabindex="-1"></a>photos <span class="ot">&lt;-</span> <span class="fu">dbExecute</span>(montech_db, <span class="st">&quot;CREATE TABLE photos (</span></span>
<span id="cb12-2"><a href="designing-and-building-my-monitoring-techniques-database.html#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="st">                    photo_id varchar PRIMARY KEY,</span></span>
<span id="cb12-3"><a href="designing-and-building-my-monitoring-techniques-database.html#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="st">                    camera_id varchar,</span></span>
<span id="cb12-4"><a href="designing-and-building-my-monitoring-techniques-database.html#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="st">                    sampling_period integer(2),</span></span>
<span id="cb12-5"><a href="designing-and-building-my-monitoring-techniques-database.html#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="st">                    timestamp text,</span></span>
<span id="cb12-6"><a href="designing-and-building-my-monitoring-techniques-database.html#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="st">                    species varchar(9) CHECK (species IN (&#39;cougar&#39;, &#39;blackbear&#39;, &#39;bobcat&#39;, &#39;coyote&#39;)), </span></span>
<span id="cb12-7"><a href="designing-and-building-my-monitoring-techniques-database.html#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="st">                    carnivore_id varchar(9),</span></span>
<span id="cb12-8"><a href="designing-and-building-my-monitoring-techniques-database.html#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="st">                    individual_id varchar,</span></span>
<span id="cb12-9"><a href="designing-and-building-my-monitoring-techniques-database.html#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="st">                    FOREIGN KEY (camera_id) REFERENCES cameras(camera_id)</span></span>
<span id="cb12-10"><a href="designing-and-building-my-monitoring-techniques-database.html#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="st">                    FOREIGN KEY (carnivore_id) REFERENCES carnivores(carnivore_id)</span></span>
<span id="cb12-11"><a href="designing-and-building-my-monitoring-techniques-database.html#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="st">                    FOREIGN KEY (sampling_period) REFERENCES sampling_periods(sampling_period)</span></span>
<span id="cb12-12"><a href="designing-and-building-my-monitoring-techniques-database.html#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="st">                    );&quot;</span>)</span></code></pre></div>
</div>
<div id="creating-the-transects-table" class="section level3 hasAnchor" number="2.2.11">
<h3><span class="header-section-number">2.2.11</span> Creating the transects table<a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-transects-table" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This table includes information on the transects walked by scat detector dogs
and handlers. The table includes columns for the transect id, start and end
coordinates, and the id of the track recorded by handlers. The <code>transect_id</code>
column contains a unique identifier and is therefore the primary key for this
table.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="designing-and-building-my-monitoring-techniques-database.html#cb13-1" aria-hidden="true" tabindex="-1"></a>transects <span class="ot">&lt;-</span> <span class="fu">dbExecute</span>(montech_db, <span class="st">&quot;CREATE TABLE transects (</span></span>
<span id="cb13-2"><a href="designing-and-building-my-monitoring-techniques-database.html#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="st">                      transect_id varchar NOT NULL, </span></span>
<span id="cb13-3"><a href="designing-and-building-my-monitoring-techniques-database.html#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="st">                      start_utm_x float,</span></span>
<span id="cb13-4"><a href="designing-and-building-my-monitoring-techniques-database.html#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="st">                      start_utm_y float,</span></span>
<span id="cb13-5"><a href="designing-and-building-my-monitoring-techniques-database.html#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="st">                      end_utm_x float,</span></span>
<span id="cb13-6"><a href="designing-and-building-my-monitoring-techniques-database.html#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="st">                      end_utm_y float,</span></span>
<span id="cb13-7"><a href="designing-and-building-my-monitoring-techniques-database.html#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="st">                      track_id varchar,</span></span>
<span id="cb13-8"><a href="designing-and-building-my-monitoring-techniques-database.html#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="st">                      PRIMARY KEY (transect_id)</span></span>
<span id="cb13-9"><a href="designing-and-building-my-monitoring-techniques-database.html#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="st">                      );&quot;</span>)</span></code></pre></div>
</div>
<div id="creating-the-scat-samples-table" class="section level3 hasAnchor" number="2.2.12">
<h3><span class="header-section-number">2.2.12</span> Creating the scat samples table<a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-scat-samples-table" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This table includes information related to scat samples. The table includes
columns for sample_id, date and time collected, sampling period, transect id,
who collected the scat, cell age, scat coordinates, scat age, suspected species,
and sample preservation method. The <code>sample_id</code> column contains a unique
identifier and is therefore the primary key for this table. The table is related
to the sampling periods table through the <code>sampling_periods</code> column and the
transects table through the <code>transect_id</code> column.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="designing-and-building-my-monitoring-techniques-database.html#cb14-1" aria-hidden="true" tabindex="-1"></a>scat_samples <span class="ot">&lt;-</span> <span class="fu">dbExecute</span>(montech_db, <span class="st">&quot;CREATE TABLE scat_samples (</span></span>
<span id="cb14-2"><a href="designing-and-building-my-monitoring-techniques-database.html#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="st">                          sample_id varchar NOT NULL,</span></span>
<span id="cb14-3"><a href="designing-and-building-my-monitoring-techniques-database.html#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="st">                          date text,</span></span>
<span id="cb14-4"><a href="designing-and-building-my-monitoring-techniques-database.html#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="st">                          time text,</span></span>
<span id="cb14-5"><a href="designing-and-building-my-monitoring-techniques-database.html#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="st">                          sampling_period integer(2),</span></span>
<span id="cb14-6"><a href="designing-and-building-my-monitoring-techniques-database.html#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="st">                          transect_id varchar,</span></span>
<span id="cb14-7"><a href="designing-and-building-my-monitoring-techniques-database.html#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="st">                          collected_by varchar,</span></span>
<span id="cb14-8"><a href="designing-and-building-my-monitoring-techniques-database.html#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="st">                          cell_id varchar,</span></span>
<span id="cb14-9"><a href="designing-and-building-my-monitoring-techniques-database.html#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="st">                          utm_x float, </span></span>
<span id="cb14-10"><a href="designing-and-building-my-monitoring-techniques-database.html#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="st">                          utm_y float,</span></span>
<span id="cb14-11"><a href="designing-and-building-my-monitoring-techniques-database.html#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="st">                          sample_age varchar CHECK (sample_age IN (&#39;fresh&#39;, &#39;medium&#39;, &#39;old&#39;)),</span></span>
<span id="cb14-12"><a href="designing-and-building-my-monitoring-techniques-database.html#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="st">                          suspected_species varchar, </span></span>
<span id="cb14-13"><a href="designing-and-building-my-monitoring-techniques-database.html#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="st">                          preservation_method char CHECK (preservation_method IN (&#39;dehydration&#39;, &#39;ethanol&#39;, &#39;shield&#39;)),</span></span>
<span id="cb14-14"><a href="designing-and-building-my-monitoring-techniques-database.html#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="st">                          PRIMARY KEY (sample_id),</span></span>
<span id="cb14-15"><a href="designing-and-building-my-monitoring-techniques-database.html#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="st">                          FOREIGN KEY (sampling_period) REFERENCES sampling_periods(sampling_period)</span></span>
<span id="cb14-16"><a href="designing-and-building-my-monitoring-techniques-database.html#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="st">                          FOREIGN KEY (transect_id) REFERENCES transects(transect_id)</span></span>
<span id="cb14-17"><a href="designing-and-building-my-monitoring-techniques-database.html#cb14-17" aria-hidden="true" tabindex="-1"></a><span class="st">                          );&quot;</span>)</span></code></pre></div>
</div>
<div id="creating-the-hair-snares-table" class="section level3 hasAnchor" number="2.2.13">
<h3><span class="header-section-number">2.2.13</span> Creating the hair snares table<a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-hair-snares-table" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This table includes information on hair snares deployed for my study. The table
includes columns device id, device type, cell id, start and end deployment dates,
and snare coordinates. The <code>device_id</code> column contains a unique identifier and
is therefore the primary key for this table. The table is related to the
sampling cells table through the <code>sampling_cells</code> column.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="designing-and-building-my-monitoring-techniques-database.html#cb15-1" aria-hidden="true" tabindex="-1"></a>hair_snares <span class="ot">&lt;-</span> <span class="fu">dbExecute</span>(montech_db, <span class="st">&quot;CREATE TABLE hair_snares (</span></span>
<span id="cb15-2"><a href="designing-and-building-my-monitoring-techniques-database.html#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="st">                        device_id varchar NOT NULL,</span></span>
<span id="cb15-3"><a href="designing-and-building-my-monitoring-techniques-database.html#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="st">                        device_type varchar CHECK (device_type IN (&#39;cubby&#39;, &#39;corral&#39;, &#39;pad&#39;)),</span></span>
<span id="cb15-4"><a href="designing-and-building-my-monitoring-techniques-database.html#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="st">                        cell_id varchar,</span></span>
<span id="cb15-5"><a href="designing-and-building-my-monitoring-techniques-database.html#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="st">                        start_deployment text,</span></span>
<span id="cb15-6"><a href="designing-and-building-my-monitoring-techniques-database.html#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="st">                        end_deployment text,</span></span>
<span id="cb15-7"><a href="designing-and-building-my-monitoring-techniques-database.html#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="st">                        utm_x float,</span></span>
<span id="cb15-8"><a href="designing-and-building-my-monitoring-techniques-database.html#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="st">                        utm_y float,</span></span>
<span id="cb15-9"><a href="designing-and-building-my-monitoring-techniques-database.html#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="st">                        PRIMARY KEY (device_id),</span></span>
<span id="cb15-10"><a href="designing-and-building-my-monitoring-techniques-database.html#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="st">                        FOREIGN KEY (cell_id) REFERENCES sampling_cells(cell_id)</span></span>
<span id="cb15-11"><a href="designing-and-building-my-monitoring-techniques-database.html#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="st">                        );&quot;</span>)</span></code></pre></div>
</div>
<div id="creating-the-hair-samples-table" class="section level3 hasAnchor" number="2.2.14">
<h3><span class="header-section-number">2.2.14</span> Creating the hair samples table<a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-hair-samples-table" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This table includes information related to hair samples collected for my study.
The table includes columns for sample_id, date and time collected, sampling period,
cell id, device_id, who collected the hair, and the scent used. The <code>sample_id</code>
column contains a unique identifier and is therefore the primary key for this
table. The table is related to the sampling cells table through the <code>cell_id</code>
column, the sampling periods table through the <code>sampling_periods</code> column, and
the hair snares table through the <code>device_id</code> column.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="designing-and-building-my-monitoring-techniques-database.html#cb16-1" aria-hidden="true" tabindex="-1"></a>hair_samples <span class="ot">&lt;-</span> <span class="fu">dbExecute</span>(montech_db, <span class="st">&quot;CREATE TABLE hair_samples (</span></span>
<span id="cb16-2"><a href="designing-and-building-my-monitoring-techniques-database.html#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="st">                          sample_id varchar NOT NULL,</span></span>
<span id="cb16-3"><a href="designing-and-building-my-monitoring-techniques-database.html#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="st">                          date text,</span></span>
<span id="cb16-4"><a href="designing-and-building-my-monitoring-techniques-database.html#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="st">                          time text,</span></span>
<span id="cb16-5"><a href="designing-and-building-my-monitoring-techniques-database.html#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="st">                          cell_id varchar,</span></span>
<span id="cb16-6"><a href="designing-and-building-my-monitoring-techniques-database.html#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="st">                          sampling_period integer(2),</span></span>
<span id="cb16-7"><a href="designing-and-building-my-monitoring-techniques-database.html#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="st">                          device_id varchar,</span></span>
<span id="cb16-8"><a href="designing-and-building-my-monitoring-techniques-database.html#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="st">                          collected_by char,</span></span>
<span id="cb16-9"><a href="designing-and-building-my-monitoring-techniques-database.html#cb16-9" aria-hidden="true" tabindex="-1"></a><span class="st">                          scent_used char,</span></span>
<span id="cb16-10"><a href="designing-and-building-my-monitoring-techniques-database.html#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="st">                          PRIMARY KEY (sample_id)</span></span>
<span id="cb16-11"><a href="designing-and-building-my-monitoring-techniques-database.html#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="st">                          FOREIGN KEY (cell_id) REFERENCES sampling_cells(cell_id)</span></span>
<span id="cb16-12"><a href="designing-and-building-my-monitoring-techniques-database.html#cb16-12" aria-hidden="true" tabindex="-1"></a><span class="st">                          FOREIGN KEY (sampling_period) REFERENCES sampling_periods(sampling_period)</span></span>
<span id="cb16-13"><a href="designing-and-building-my-monitoring-techniques-database.html#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="st">                          FOREIGN KEY (device_id) REFERENCES hair_snares(device_id)</span></span>
<span id="cb16-14"><a href="designing-and-building-my-monitoring-techniques-database.html#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="st">                          );&quot;</span>)</span></code></pre></div>
</div>
<div id="creating-the-genetics-table" class="section level3 hasAnchor" number="2.2.15">
<h3><span class="header-section-number">2.2.15</span> Creating the genetics table<a href="designing-and-building-my-monitoring-techniques-database.html#creating-the-genetics-table" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This table includes genetic information for processed hair, scat, and tissue
samples collected for my study. The table includes columns for genetic id,
genetic method, sample type, sample id, tissue sample id, carnivore id,
carnivore species, and sex. As there was no unique identifier for this table, I
created an auto incremented <code>genetic_number</code> that could act as the primary key
for this table. The table is related to both the hair sample and scat sample
tables through the <code>sample_id</code>column, the capture table through the
<code>tissue_sample_id</code> column, and the carnivores table through the <code>carnivore_id</code>
column.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="designing-and-building-my-monitoring-techniques-database.html#cb17-1" aria-hidden="true" tabindex="-1"></a>genetics <span class="ot">&lt;-</span> <span class="fu">dbExecute</span>(montech_db, <span class="st">&quot;CREATE TABLE genetics (</span></span>
<span id="cb17-2"><a href="designing-and-building-my-monitoring-techniques-database.html#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="st">                      genetic_number integer PRIMARY KEY AUTOINCREMENT,</span></span>
<span id="cb17-3"><a href="designing-and-building-my-monitoring-techniques-database.html#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="st">                      genetic_id varchar, </span></span>
<span id="cb17-4"><a href="designing-and-building-my-monitoring-techniques-database.html#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="st">                      genetic_method varchar,</span></span>
<span id="cb17-5"><a href="designing-and-building-my-monitoring-techniques-database.html#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="st">                      sample_type char CHECK (sample_type IN (&#39;hair&#39;, &#39;scat&#39;, &#39;tissue&#39;, &#39;blood&#39;)),</span></span>
<span id="cb17-6"><a href="designing-and-building-my-monitoring-techniques-database.html#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="st">                      sample_id varchar,</span></span>
<span id="cb17-7"><a href="designing-and-building-my-monitoring-techniques-database.html#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="st">                      tissue_sample_id varchar,</span></span>
<span id="cb17-8"><a href="designing-and-building-my-monitoring-techniques-database.html#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="st">                      carnivore_id varchar,</span></span>
<span id="cb17-9"><a href="designing-and-building-my-monitoring-techniques-database.html#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="st">                      species varchar(9) CHECK (species IN (&#39;cougar&#39;, &#39;blackbear&#39;, &#39;bobcat&#39;, &#39;coyote&#39;)),</span></span>
<span id="cb17-10"><a href="designing-and-building-my-monitoring-techniques-database.html#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="st">                      sex char(1) CHECK (sex IN (&#39;F&#39;, &#39;M&#39;)),</span></span>
<span id="cb17-11"><a href="designing-and-building-my-monitoring-techniques-database.html#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="st">                      FOREIGN KEY (sample_id) REFERENCES hair_samples(sample_id)</span></span>
<span id="cb17-12"><a href="designing-and-building-my-monitoring-techniques-database.html#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="st">                      FOREIGN KEY (sample_id) REFERENCES scat_samples(sample_id)</span></span>
<span id="cb17-13"><a href="designing-and-building-my-monitoring-techniques-database.html#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="st">                      FOREIGN KEY (tissue_sample_id) REFERENCES captures(tissue_sample_id)</span></span>
<span id="cb17-14"><a href="designing-and-building-my-monitoring-techniques-database.html#cb17-14" aria-hidden="true" tabindex="-1"></a><span class="st">                      FOREIGN KEY (carnivore_id) REFERENCES carnivores(carnivore_id)</span></span>
<span id="cb17-15"><a href="designing-and-building-my-monitoring-techniques-database.html#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="st">                      );&quot;</span>)</span></code></pre></div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="cross.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/01-Project.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
